// Standard BGA Flowchart
digraph {
	bgcolor=white margin=0.3 nodesep=0.8 page="8.27,11.69" rankdir=TB ranksep=1.5 size="8.27,11.69!" splines=spline
	node [fontname="Helvetica-Bold" fontsize=30]
	edge [fontcolor=black fontname="Helvetica-Bold" fontsize=30 penwidth=3]
	start [label=Start fillcolor="#AEDFF7" fontcolor=black height=2 shape=oval style=filled width=3]
	end [label="End
Return best solution & fitness" fillcolor="#AEDFF7" fontcolor=black height=2 shape=oval style=filled width=3]
	init [label="Initialize Population
(pop_size, num_cols)" fillcolor="#85C1E9" fontcolor=black height=2 shape=box style="rounded,filled" width=5]
	gen_loop [label="Generation Loop
(max_generations)" fillcolor="#A9DFBF" fontcolor=black height=2 shape=box style="rounded,filled" width=5]
	offspring_loop [label="Offspring Generation
(while new_population < pop_size)" fillcolor="#F7DC6F" fontcolor=black height=2 shape=box style="rounded,filled" width=5]
	tournament [label="Tournament Selection
(k = tournament_k)" fillcolor="#F0B27A" fontcolor=black height=2 shape=box style="rounded,filled" width=5]
	crossover [label="One-Point Crossover
(prob = crossover_rate)" fillcolor="#BB8FCE" fontcolor=black height=2 shape=box style="rounded,filled" width=5]
	mutation [label="Mutation
(prob = mutation_rate)" fillcolor="#BB8FCE" fontcolor=black height=2 shape=box style="rounded,filled" width=5]
	add_offspring [label="Add Offspring
to new_population" fillcolor="#A3E4D7" fontcolor=black height=2 shape=box style="rounded,filled" width=5]
	offspring_decision [label="New population full?" fillcolor="#F7DC6F" fontcolor=black height=2 shape=diamond style=filled width=5]
	trim [label="Trim new_population
to pop_size" fillcolor="#F5B7B1" fontcolor=black height=2 shape=box style="rounded,filled" width=5]
	recompute [label="Recompute Fitness
(penalty_factor)" fillcolor="#76D7C4" fontcolor=black height=2 shape=box style="rounded,filled" width=5]
	update [label="Update Best Solution
(if improved)" fillcolor="#76D7C4" fontcolor=black height=2 shape=box style="rounded,filled" width=5]
	gen_decision [label="More generations?" fillcolor="#F9E79F" fontcolor=black height=2 shape=diamond style=filled width=5]
	start -> init
	init -> gen_loop [label="Initial Population"]
	gen_loop -> offspring_loop [label="Begin Offspring Production"]
	offspring_loop -> tournament [label="Select Parents"]
	tournament -> crossover [label=Crossover]
	crossover -> mutation [label="Apply Mutation"]
	mutation -> add_offspring [label="Create Offspring"]
	add_offspring -> offspring_decision [label="Check Offspring Count"]
	offspring_decision -> offspring_loop [label=No style=dashed]
	offspring_decision -> trim [label=Yes style=bold]
	trim -> recompute [label="Trim Population"]
	recompute -> update [label="Recalculate Fitness"]
	update -> gen_decision [label="Evaluate Best"]
	gen_decision -> gen_loop [label="Yes: Continue" style=dashed]
	gen_decision -> end [label="No: Finish" style=bold]
	subgraph cluster_offspring {
		color=blue style=dashed
		offspring_loop
		tournament
		crossover
		mutation
		add_offspring
		offspring_decision
	}
}
